User Stories for Meal Analysis & Results Screen
Screen Context: This screen displays the calculated Glycemic Load (GL) for the user's confirmed meal, providing per-item breakdown and, if applicable, AI-powered suggestions for optimization.

Core User Flow: Viewing Meal Analysis

As a user, upon confirming all food items, I want to automatically navigate to the "Meal Analysis & Results" screen, so I can immediately see the glycemic impact of my meal.
As a user, I want to clearly see the total Glycemic Load (GL) for my entire meal, so I can get an immediate overview of its impact.
As a user, I want the total meal GL to be color-coded (Green: 0-10, Yellow: 11-19, Red: 20+), so I can quickly interpret its significance.
As a user, I want to see a clear breakdown of the individual Glycemic Load for each food item in my meal, so I can understand which components contribute most.
As a user, for each food item in the breakdown, I want to see a source indicator (e.g., "ai_estimated") if its data was not from the database, so I'm aware of the data's origin.
As a user, I want a prominent "Calculate Glycemic Load for next meal" button in the bottom right corner, so I can easily proceed to record my next meal.
As a user, when I click "Calculate Glycemic Load for next meal," I want to be redirected to the "Meal Input Screen", to streamline my meal tracking process.
Scenario: Meal GL is 11 or Higher (High/Medium Impact)

As a user, if my total meal GL is 11 or higher, I want to see a dedicated "AI Recommendations" section, so I can get personalized advice to improve my meal's glycemic impact.
As a user, I want the AI recommendations to include specific food swap suggestions (e.g., "Replace white rice with brown rice"), so I know what specific changes to make.
As a user, for each food swap suggestion, I want to see the estimated GL DROP percentage, so I understand the potential benefit.
As a user, I want the AI recommendations to include portion adjustment advice (e.g., "Reduce white rice to 1/2 cup and double the dal portion"), so I can manage my intake effectively.
As a user, for each suggestion (swap or portion), I want to see a clear reason why it helps (e.g., "3x more fiber prevents rapid spikes"), so I understand the scientific basis.
As a user, I want the AI suggestions to focus on Indian food alternatives where appropriate, aligning with the app's core database.
Scenario: Meal GL is 0-10 (Low Impact)

As a user, if my total meal GL is 10 or lower, I do not want to see the "AI Recommendations" section, as my meal is already within the optimal range.
As a user, I want a positive message or visual confirmation for achieving a low GL meal, so I feel good about my healthy choices.
Edge Cases & Error Handling:

As a user, if the GL calculation for a specific item fails (e.g., AI estimation error after confirmation), I want a clear message for that item (e.g., "Calculation Error"), so I understand why data might be missing.
As a user, if the total meal GL cannot be calculated due to multiple item errors, I want a clear message indicating a full calculation failure, and a prompt to re-enter or review the meal.
As a user, if there's a temporary network issue preventing the display of AI recommendations, I want a polite message indicating this and suggesting a retry, rather than an empty section.
As a user, I expect the screen to be non-interactive beyond reviewing the results and navigating to the next meal, as per the simplified MVP scope (no profile, no historical data access from here).
As a user, if for some reason a food item in the breakdown has a GL outside the expected 0+ range (e.g., negative, which shouldn't happen but for robustness), it should be handled gracefully (e.g., clamp to 0, or show an error).
As a user, if the meal contains many items, the breakdown list should be scrollable, so I can view all items without clutter.